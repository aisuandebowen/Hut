(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{466:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vue3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[t._v("#")]),t._v(" Vue3")]),t._v(" "),s("h2",{attrs:{id:"生命周期-组合式api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期-组合式api"}},[t._v("#")]),t._v(" 生命周期（组合式API）")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cn.vuejs.org/assets/lifecycle.16e4c08e.png",alt:""}})]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("setup")])]),t._v(" "),s("p",[t._v("组合式API特有，在created之前")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onBeforeMount")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onMounted")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onBeforeUpdate")])]),t._v(" "),s("p",[s("code",[t._v("props")]),t._v("发生变更时，会调用此方法。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onUpdated")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onBeforeUnmount")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("onUnmounted")])])])]),t._v(" "),s("h2",{attrs:{id:"错误拦截"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#错误拦截"}},[t._v("#")]),t._v(" 错误拦截")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("errorHandler")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 处理错误 */")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"响应式原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#响应式原理"}},[t._v("#")]),t._v(" 响应式原理")]),t._v(" "),s("p",[t._v("Proxy")]),t._v(" "),s("h2",{attrs:{id:"格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[t._v("#")]),t._v(" 格式")]),t._v(" "),s("ol",[s("li",[t._v("prop 名称还是 v-on 的事件名称，都需要转换为相应等价的 kebab-case (短横线连字符) 形式")])]),t._v(" "),s("h2",{attrs:{id:"响应式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#响应式"}},[t._v("#")]),t._v(" 响应式")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("reactive")]),t._v("：只能用引用数据类型")]),t._v(" "),s("li",[s("code",[t._v("ref")]),t._v("：all。\n"),s("ul",[s("li",[t._v("包装成带"),s("code",[t._v("value")]),t._v("属性的ref对象。")]),t._v(" "),s("li",[t._v("当 ref 在模板中作为顶层属性被访问时。它们会被自动“解包”，所以不需要使用 "),s("code",[t._v(".value")]),t._v("。")])])])]),t._v(" "),s("h2",{attrs:{id:"计算属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算属性"}},[t._v("#")]),t._v(" 计算属性")]),t._v(" "),s("p",[s("code",[t._v("computed(Function)")])]),t._v(" "),s("h2",{attrs:{id:"watch监听"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watch监听"}},[t._v("#")]),t._v(" watch监听")]),t._v(" "),s("p",[t._v("方法："),s("code",[t._v("const unwatch = watch(ele, (newVal, oldVal) => {}, options)")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("ele")]),t._v("可以是一个 ref (包括计算属性)、一个响应式对象、一个 getter 函数、或多个数据源组成的数组。")]),t._v(" "),s("li",[s("code",[t._v("watchEffect()、watchPostEffect()")]),t._v(" 允许我们自动跟踪回调的响应式依赖")]),t._v(" "),s("li",[t._v("options包括deep、immediate、flush")]),t._v(" "),s("li",[t._v("手动关闭"),s("code",[t._v("unwatch()")])])]),t._v(" "),s("p",[t._v("注意：")]),t._v(" "),s("ol",[s("li",[t._v("watch不可以监听响应式对象的属性。解决方法：getter函数")]),t._v(" "),s("li",[t._v("用户创建的侦听器回调，都会在 Vue 组件更新"),s("strong",[t._v("之前")]),t._v("被调用。这意味着你在侦听器回调中访问的 DOM 将是被 Vue 更新之前的状态。")])]),t._v(" "),s("h2",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" ref")]),t._v(" "),s("p",[t._v("ref支持访问模板、v-for、函数、组件")]),t._v(" "),s("p",[t._v("访问子组件："),s("code",[t._v("const refName = ref(null)")])]),t._v(" "),s("p",[t._v("注意：")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("<script setup>")]),t._v(" 的组件是"),s("strong",[t._v("默认私有")]),t._v("的。父组件无法访问子组件，需要子组件在其中通过 "),s("code",[t._v("defineExpose")]),t._v(" 宏显式暴露。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script setup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ref "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 像 defineExpose 这样的编译器宏不需要导入")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineExpose")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  b\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])])])]),t._v(" "),s("h2",{attrs:{id:"编译宏命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译宏命令"}},[t._v("#")]),t._v(" 编译宏命令")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("defineExpose")]),t._v(",暴露子组件属性。")]),t._v(" "),s("li",[s("code",[t._v("defineProps")]),t._v(" ，定义子组件"),s("code",[t._v("props")])]),t._v(" "),s("li",[s("code",[t._v("defineEmits")])])]),t._v(" "),s("h2",{attrs:{id:"组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[t._v("#")]),t._v(" 组件")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("<script setup>")]),t._v("，导入的组件都在模板中直接可用。")]),t._v(" "),s("h2",{attrs:{id:"v-model"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-model"}},[t._v("#")]),t._v(" v-model")]),t._v(" "),s("p",[s("code",[t._v("v-model")]),t._v(" 在组件上都是使用 "),s("code",[t._v("modelValue")]),t._v(" 作为 prop，并以 "),s("code",[t._v("update:modelValue")]),t._v(" 作为对应的事件。")]),t._v(" "),s("h2",{attrs:{id:"禁用-attributes-继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#禁用-attributes-继承"}},[t._v("#")]),t._v(" 禁用 Attributes 继承")]),t._v(" "),s("p",[s("code",[t._v("inheritAttrs: false")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"透传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#透传"}},[t._v("#")]),t._v(" 透传")]),t._v(" "),s("p",[s("code",[t._v("class")]),t._v("、"),s("code",[t._v("style")]),t._v(" 和 "),s("code",[t._v("id")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("显式绑定"),s("code",[t._v("Attributes")]),t._v("继承："),s("code",[t._v('v-bind="$attrs"')])])]),t._v(" "),s("li",[s("p",[t._v("访问透传 Attributes")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useAttrs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" attrs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useAttrs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("​")])])]),t._v(" "),s("h2",{attrs:{id:"依赖注入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入"}},[t._v("#")]),t._v(" 依赖注入")]),t._v(" "),s("h3",{attrs:{id:"父组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件"}},[t._v("#")]),t._v(" 父组件")]),t._v(" "),s("p",[s("code",[t._v("provide(propName, value)")])]),t._v(" "),s("h3",{attrs:{id:"子组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子组件"}},[t._v("#")]),t._v(" 子组件")]),t._v(" "),s("p",[s("code",[t._v("const prop = inject(propName, default)")])]),t._v(" "),s("h3",{attrs:{id:"传输的数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传输的数据"}},[t._v("#")]),t._v(" 传输的数据")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("可操作")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// fath")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("provide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" chanegMethod"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// son")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" changeMethod"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("不可操作")]),t._v(" "),s("div",{staticClass:"language-javasc line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('provide("read-only-state", readonly(state));\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);