(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{471:function(a,s,e){"use strict";e.r(s);var t=e(2),n=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[a._v("#")]),a._v(" Git")]),a._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("p",[a._v("Git 是分布式版本控制系统，没有“中央服务器”。")]),a._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v('git config --global user.name "Your Name"\ngit config --global user.email "email@example.com"\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内容"}},[a._v("#")]),a._v(" 内容")]),a._v(" "),s("h3",{attrs:{id:"基础知识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[a._v("#")]),a._v(" 基础知识")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("工作区")]),a._v(" "),s("p",[a._v("本地文件目录。")])]),a._v(" "),s("li",[s("p",[a._v("暂存区")]),a._v(" "),s("p",[s("code",[a._v("git add")]),a._v("将工作区要添加的文件放到暂存区"),s("code",[a._v("stage")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("git commit")]),a._v("将暂存区的文件提交到当前分支(默认"),s("code",[a._v("master")]),a._v(")。")])]),a._v(" "),s("li",[s("p",[a._v("版本库")]),a._v(" "),s("p",[s("code",[a._v(".git")]),a._v("目录即为 Git 的版本库，其里面有暂存区、默认分支"),s("code",[a._v("master")]),a._v("和指向"),s("code",[a._v("master")]),a._v("的指针"),s("code",[a._v("HEAD")]),a._v("。")])])]),a._v(" "),s("h3",{attrs:{id:"基本流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本流程"}},[a._v("#")]),a._v(" 基本流程")]),a._v(" "),s("h4",{attrs:{id:"创建版本库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建版本库"}},[a._v("#")]),a._v(" 创建版本库")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git init\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"把文件添加到仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把文件添加到仓库"}},[a._v("#")]),a._v(" 把文件添加到仓库")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git add <file>\ngit add readme.txt\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h4",{attrs:{id:"把文件提交到仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把文件提交到仓库"}},[a._v("#")]),a._v(" 把文件提交到仓库")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git commit -m <message>\ngit commit -m 'wrote a readme file'\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("复制相同提交内容")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git cherry-pick <commit_id>\n// commit_id只需要前7位\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"查看工作区状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看工作区状态"}},[a._v("#")]),a._v(" 查看工作区状态")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git status\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志"}},[a._v("#")]),a._v(" 日志")]),a._v(" "),s("h4",{attrs:{id:"提交日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交日志"}},[a._v("#")]),a._v(" 提交日志")]),a._v(" "),s("p",[s("code",[a._v("git log")]),a._v("命令显示的是从最近到最远的提交日志。版本号"),s("code",[a._v("commit id")]),a._v("由 SHA1 计算出的。")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("普通")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git log\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("简易")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git log --pretty=oneline\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("视图")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git log --graph\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h4",{attrs:{id:"命令日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令日志"}},[a._v("#")]),a._v(" 命令日志")]),a._v(" "),s("p",[a._v("该命令可以帮助我们回到未来的版本。")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git reflog\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改"}},[a._v("#")]),a._v(" 修改")]),a._v(" "),s("h4",{attrs:{id:"撤销工作区的修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#撤销工作区的修改"}},[a._v("#")]),a._v(" 撤销工作区的修改")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git checkout -- <file>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("有两种情况")]),a._v(" "),s("ol",[s("li",[a._v("工作区修改，但未提交到暂存区。此时，执行命令后将和版本库一模一样。")]),a._v(" "),s("li",[a._v("第一次修改提交到暂存区后，工作区又存在修改。此时，执行命令后将回到第一次修改提交到暂存区的状态。")])]),a._v(" "),s("p",[s("strong",[a._v("原理")]),a._v("：将版本库的版本替换到工作区。")]),a._v(" "),s("h4",{attrs:{id:"撤销暂存区的修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#撤销暂存区的修改"}},[a._v("#")]),a._v(" 撤销暂存区的修改")]),a._v(" "),s("p",[a._v("撤销暂存区的修改，重新回到工作区，工作区不变。")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git reset head <file>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"缓存未提交的修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存未提交的修改"}},[a._v("#")]),a._v(" 缓存未提交的修改")]),a._v(" "),s("p",[a._v("未提交的修改包括工作区和暂存区，将其存放在堆栈中，用于后续恢复。")]),a._v(" "),s("p",[a._v("基本操作")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("缓存")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git stash\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("查看缓存记录")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git stash list\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("恢复缓存")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("删除 stash 内容")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git stash pop\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("不删除 stash 内容")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git stash apply\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("指定恢复哪个缓存")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git stash apply num\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])])])]),a._v(" "),s("h3",{attrs:{id:"删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[a._v("#")]),a._v(" 删除")]),a._v(" "),s("p",[a._v("版本库中删除文件")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git rm file\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("工作区删除文件")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("rm file\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库"}},[a._v("#")]),a._v(" 远程仓库")]),a._v(" "),s("p",[a._v("关联远程库")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git remote add name git@server-name:path/repo-name.git\ngit remote add origin git@github.com:aisuandebowen/learngit.git\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[s("code",[a._v("name")]),a._v("：指定远程库名字，例如 origin。")]),a._v(" "),s("h5",{attrs:{id:"本地替换远程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地替换远程"}},[a._v("#")]),a._v(" 本地替换远程")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git push --force\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"合并远程分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并远程分支"}},[a._v("#")]),a._v(" 合并远程分支")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git pull\n\ngit fetch\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("问题：fetch和pull的区别")]),a._v(" "),s("ul",[s("li",[a._v("git fetch是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。")]),a._v(" "),s("li",[a._v("git pull是将远程主机的最新内容拉下来后直接合并，即：git pull = git fetch + git merge，这样可能会产生冲突，需要手动解决。")])]),a._v(" "),s("h5",{attrs:{id:"推送并将本地分支和远程分支关联"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送并将本地分支和远程分支关联"}},[a._v("#")]),a._v(" 推送并将本地分支和远程分支关联")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git push -u origin master\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"查看远程库信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看远程库信息"}},[a._v("#")]),a._v(" 查看远程库信息")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git remote -v\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"删除与远程库的关联"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除与远程库的关联"}},[a._v("#")]),a._v(" 删除与远程库的关联")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git remote rm origin\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"克隆仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#克隆仓库"}},[a._v("#")]),a._v(" 克隆仓库")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git clone\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"本地分支和远程分支设置关联"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地分支和远程分支设置关联"}},[a._v("#")]),a._v(" 本地分支和远程分支设置关联")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v(" git branch --set-upstream-to=origin/<branch-name> <branch-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"分支-branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支-branch"}},[a._v("#")]),a._v(" 分支 branch")]),a._v(" "),s("h4",{attrs:{id:"查看分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看分支"}},[a._v("#")]),a._v(" 查看分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git branch\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"创建分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建分支"}},[a._v("#")]),a._v(" 创建分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git branch <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"切换分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换分支"}},[a._v("#")]),a._v(" 切换分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("// 两个都可以，推荐第一个。\ngit switch <name>\ngit checkout <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h4",{attrs:{id:"创建并切换分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建并切换分支"}},[a._v("#")]),a._v(" 创建并切换分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git switch -c <name>\ngit checkout -b <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h4",{attrs:{id:"合并某分支到当前分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并某分支到当前分支"}},[a._v("#")]),a._v(" 合并某分支到当前分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git merge <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("冲突解决方案：当 Git 无法进行快速合并时，需要手动更改，Git 用"),s("code",[a._v("<<<<<<<")]),a._v("，"),s("code",[a._v("=======")]),a._v("，"),s("code",[a._v(">>>>>>>")]),a._v("标记不同的内容。")]),a._v(" "),s("p",[s("code",[a._v("--no-ff")]),a._v("参数")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v('git merge --no-ff -m "merge with no-ff" dev\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("以上命令，将会合并并提交一个 commit。合并分支推荐使用普通模式"),s("code",[a._v("--no-ff")]),a._v("，因为快速模式合并没有历史。")]),a._v(" "),s("h4",{attrs:{id:"删除分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除分支"}},[a._v("#")]),a._v(" 删除分支")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git branch -d <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("当要删除的分支没有被合并过，是无法删除的。此时一定要删除的话推荐：")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git branch -D <name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"查看commit-id属于哪个分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看commit-id属于哪个分支"}},[a._v("#")]),a._v(" 查看commit id属于哪个分支")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git branch --contains <commit id>\ngit branch --contains <commit id> -r // 加远程\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"变基rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变基rebase"}},[a._v("#")]),a._v(" 变基rebase")]),a._v(" "),s("h4",{attrs:{id:"命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[a._v("#")]),a._v(" 命令")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git rebase\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[a._v("#")]),a._v(" 原理")]),a._v(" "),s("p",[a._v("场景：现有分支A、B。当前分支A，准备"),s("code",[a._v("rebase B")]),a._v("。")]),a._v(" "),s("p",[a._v("内部过程：")]),a._v(" "),s("ol",[s("li",[a._v("取消A分支的所有"),s("code",[a._v("commit")]),a._v("；")]),a._v(" "),s("li",[a._v("将过程1的操作临时保存成"),s("code",[a._v("patch")]),a._v("文件，保存在"),s("code",[a._v(".git/rebase")]),a._v("目录下；")]),a._v(" "),s("li",[a._v("然后，把 "),s("code",[a._v("A")]),a._v(" 分支更新到最新的 "),s("code",[a._v("B")]),a._v(" 分支；")]),a._v(" "),s("li",[a._v("最后，把上面保存的 "),s("code",[a._v("patch")]),a._v(" 文件应用到 "),s("code",[a._v("A")]),a._v(" 分支上。")])]),a._v(" "),s("h4",{attrs:{id:"用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用途"}},[a._v("#")]),a._v(" 用途")]),a._v(" "),s("h5",{attrs:{id:"多次提交合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多次提交合并"}},[a._v("#")]),a._v(" 多次提交合并")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git rebase HEAD~{n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"分支合并"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支合并"}},[a._v("#")]),a._v(" 分支合并")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git rebase master\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("相比"),s("code",[a._v("merge")]),a._v("优点，历史记录更清晰。")]),a._v(" "),s("h4",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),s("h5",{attrs:{id:"异常退出vi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异常退出vi"}},[a._v("#")]),a._v(" 异常退出"),s("code",[a._v("vi")])]),a._v(" "),s("p",[a._v("恢复方法：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git rebase --edit-todo\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h5",{attrs:{id:"出现冲突时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#出现冲突时"}},[a._v("#")]),a._v(" 出现冲突时")]),a._v(" "),s("ol",[s("li",[a._v("解决冲突；")]),a._v(" "),s("li",[s("code",[a._v("git add")]),a._v("更新；")]),a._v(" "),s("li",[s("code",[a._v("git rebase --continue")]),a._v("继续变基编辑。")])]),a._v(" "),s("h5",{attrs:{id:"终止编辑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#终止编辑"}},[a._v("#")]),a._v(" 终止编辑")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git rebase --abort\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"merge和rebase的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#merge和rebase的区别"}},[a._v("#")]),a._v(" merge和rebase的区别")]),a._v(" "),s("h5",{attrs:{id:"merge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#merge"}},[a._v("#")]),a._v(" merge")]),a._v(" "),s("p",[a._v("通过merge合并分支会新增一个merge commit，然后将两个分支的历史联系起来")]),a._v(" "),s("p",[a._v("其实是一种非破坏性的操作，对现有分支不会以任何方式被更改，但是会导致历史记录相对复杂")]),a._v(" "),s("h5",{attrs:{id:"rebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rebase"}},[a._v("#")]),a._v(" rebase")]),a._v(" "),s("p",[a._v("rebase会将整个分支移动到另一个分支上，有效地整合了所有分支上的提交")]),a._v(" "),s("p",[a._v("主要的好处是历史记录更加清晰，是在原有提交的基础上将差异内容反映进去，消除了 git merge所需的不必要的合并提交")]),a._v(" "),s("h3",{attrs:{id:"标签-tag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签-tag"}},[a._v("#")]),a._v(" 标签 Tag")]),a._v(" "),s("p",[a._v("标签本质是指向某次提交 commit，方便使用。因为平常使用"),s("code",[a._v("commit_id")]),a._v("不方便！！！")]),a._v(" "),s("h4",{attrs:{id:"创建标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建标签"}},[a._v("#")]),a._v(" 创建标签")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("以最新提交的 commit 为准，创建标签。")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git tag <tag-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("创建带有说明、指定"),s("code",[a._v("commit-id")]),a._v("的标签。")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git tag -a <tag-name> -m <message> <commit-id>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("注意")]),a._v("：标签总是和某个 commit 挂钩。如果这个 commit 既出现在 master 分支，又出现在 dev 分支，那么在这两个分支上都可以看到这个标签。")])])]),a._v(" "),s("h4",{attrs:{id:"显示已有标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示已有标签"}},[a._v("#")]),a._v(" 显示已有标签")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git tag\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("显示指定标签详细信息")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git show <tag-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"删除标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除标签"}},[a._v("#")]),a._v(" 删除标签")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("本地")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git tag -d <tag-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("远程")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git push origin :refs/tags/<tag-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h4",{attrs:{id:"推送标签到远程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送标签到远程"}},[a._v("#")]),a._v(" 推送标签到远程")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("推送一个标签")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git push origin <tag-name>\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("推送所有标签")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git push origin --tags\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h3",{attrs:{id:"忽略特殊文件-ignore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#忽略特殊文件-ignore"}},[a._v("#")]),a._v(" 忽略特殊文件 ignore")]),a._v(" "),s("h4",{attrs:{id:"正常操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正常操作"}},[a._v("#")]),a._v(" 正常操作")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("新建"),s("code",[a._v(".ignore")]),a._v("文件。")])]),a._v(" "),s("li",[s("p",[a._v("填写规则")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("单个特殊文件")]),a._v(" "),s("p",[a._v("全称文件名。")])]),a._v(" "),s("li",[s("p",[a._v("有特点的特殊文件")]),a._v(" "),s("p",[a._v("如"),s("code",[a._v(".class")]),a._v("文件，可以使用通配符"),s("code",[a._v("*")]),a._v("来表示，即"),s("code",[a._v("*.class")]),a._v("。")]),a._v(" "),s("p",[a._v("如果不想此规则忽略某个文件，可以"),s("code",[a._v("！文件名")]),a._v("，如"),s("code",[a._v("!localConfig.txt")]),a._v("。")])])])])]),a._v(" "),s("h4",{attrs:{id:"特殊操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特殊操作"}},[a._v("#")]),a._v(" 特殊操作")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("强制添加被 ignore 限制的文件")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git add App.class -f\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("查看限制某文件的具体命令所在")]),a._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[a._v("git check-ignore -v 文件名\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])])])}),[],!1,null,null,null);s.default=n.exports}}]);