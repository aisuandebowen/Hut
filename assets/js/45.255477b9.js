(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{455:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vue3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[s._v("#")]),s._v(" Vue3")]),s._v(" "),t("h2",{attrs:{id:"生命周期-组合式api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命周期-组合式api"}},[s._v("#")]),s._v(" 生命周期（组合式API）")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cn.vuejs.org/assets/lifecycle.16e4c08e.png",alt:""}})]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("setup")])]),s._v(" "),t("p",[s._v("组合式API特有，在created之前")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onBeforeMount")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onMounted")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onBeforeUpdate")])]),s._v(" "),t("p",[t("code",[s._v("props")]),s._v("发生变更时，会调用此方法。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onUpdated")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onBeforeUnmount")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("onUnmounted")])])])]),s._v(" "),t("h2",{attrs:{id:"错误拦截"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#错误拦截"}},[s._v("#")]),s._v(" 错误拦截")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("app"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("errorHandler")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* 处理错误 */")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"响应式原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应式原理"}},[s._v("#")]),s._v(" 响应式原理")]),s._v(" "),t("p",[s._v("Proxy")]),s._v(" "),t("h2",{attrs:{id:"格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[s._v("#")]),s._v(" 格式")]),s._v(" "),t("ol",[t("li",[s._v("prop 名称还是 v-on 的事件名称，都需要转换为相应等价的 kebab-case (短横线连字符) 形式")])]),s._v(" "),t("h2",{attrs:{id:"响应式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应式"}},[s._v("#")]),s._v(" 响应式")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("reactive")]),s._v("：只能用引用数据类型")]),s._v(" "),t("li",[t("code",[s._v("ref")]),s._v("：all。\n"),t("ul",[t("li",[s._v("包装成带"),t("code",[s._v("value")]),s._v("属性的ref对象。")]),s._v(" "),t("li",[s._v("当 ref 在模板中作为顶层属性被访问时。它们会被自动“解包”，所以不需要使用 "),t("code",[s._v(".value")]),s._v("。")])])])]),s._v(" "),t("h2",{attrs:{id:"计算属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#计算属性"}},[s._v("#")]),s._v(" 计算属性")]),s._v(" "),t("p",[t("code",[s._v("computed(Function)")])]),s._v(" "),t("h2",{attrs:{id:"watch监听"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#watch监听"}},[s._v("#")]),s._v(" watch监听")]),s._v(" "),t("p",[s._v("方法："),t("code",[s._v("const unwatch = watch(ele, (newVal, oldVal) => {}, options)")])]),s._v(" "),t("p",[s._v("参数：")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("ele")]),s._v("可以是一个 ref (包括计算属性)、一个响应式对象、一个 getter 函数、或多个数据源组成的数组。")]),s._v(" "),t("li",[t("code",[s._v("watchEffect()、watchPostEffect()")]),s._v(" 允许我们自动跟踪回调的响应式依赖")]),s._v(" "),t("li",[s._v("options包括deep、immediate、flush")]),s._v(" "),t("li",[s._v("手动关闭"),t("code",[s._v("unwatch()")])])]),s._v(" "),t("p",[s._v("注意：")]),s._v(" "),t("ol",[t("li",[s._v("watch不可以监听响应式对象的属性。解决方法：getter函数")]),s._v(" "),t("li",[s._v("用户创建的侦听器回调，都会在 Vue 组件更新"),t("strong",[s._v("之前")]),s._v("被调用。这意味着你在侦听器回调中访问的 DOM 将是被 Vue 更新之前的状态。")])]),s._v(" "),t("h2",{attrs:{id:"ref"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[s._v("#")]),s._v(" ref")]),s._v(" "),t("p",[s._v("ref支持访问模板、v-for、函数、组件")]),s._v(" "),t("p",[s._v("访问子组件："),t("code",[s._v("const refName = ref(null)")])]),s._v(" "),t("p",[s._v("注意：")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("<script setup>")]),s._v(" 的组件是"),t("strong",[s._v("默认私有")]),s._v("的。父组件无法访问子组件，需要子组件在其中通过 "),t("code",[s._v("defineExpose")]),s._v(" 宏显式暴露。")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script setup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" ref "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 像 defineExpose 这样的编译器宏不需要导入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineExpose")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  b\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"编译宏命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译宏命令"}},[s._v("#")]),s._v(" 编译宏命令")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("defineExpose")]),s._v(",暴露子组件属性。")]),s._v(" "),t("li",[t("code",[s._v("defineProps")]),s._v(" ，定义子组件"),t("code",[s._v("props")])]),s._v(" "),t("li",[t("code",[s._v("defineEmits")])])]),s._v(" "),t("h2",{attrs:{id:"组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[s._v("#")]),s._v(" 组件")]),s._v(" "),t("p",[s._v("通过 "),t("code",[s._v("<script setup>")]),s._v("，导入的组件都在模板中直接可用。")]),s._v(" "),t("h2",{attrs:{id:"v-model"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#v-model"}},[s._v("#")]),s._v(" v-model")]),s._v(" "),t("p",[t("code",[s._v("v-model")]),s._v(" 在组件上都是使用 "),t("code",[s._v("modelValue")]),s._v(" 作为 prop，并以 "),t("code",[s._v("update:modelValue")]),s._v(" 作为对应的事件。")]),s._v(" "),t("p",[s._v("小技巧：父子组件可以使用"),t("code",[s._v("computed")]),s._v("做"),t("code",[s._v("v-model")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps(['modelValue'])\nconst emit = defineEmits(['update:modelValue'])\n\nconst value = computed({\n  get() {\n    return props.modelValue\n  },\n  set(value) {\n    emit('update:modelValue', value)\n  }\n})\n<\/script>\n\n<template>\n  <input v-model=\"value\" />\n</template>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h2",{attrs:{id:"禁用-attributes-继承"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#禁用-attributes-继承"}},[s._v("#")]),s._v(" 禁用 Attributes 继承")]),s._v(" "),t("p",[t("code",[s._v("inheritAttrs: false")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"透传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#透传"}},[s._v("#")]),s._v(" 透传")]),s._v(" "),t("p",[t("code",[s._v("class")]),s._v("、"),t("code",[s._v("style")]),s._v(" 和 "),t("code",[s._v("id")]),s._v("。")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("显式绑定"),t("code",[s._v("Attributes")]),s._v("继承："),t("code",[s._v('v-bind="$attrs"')])])]),s._v(" "),t("li",[t("p",[s._v("访问透传 Attributes")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" useAttrs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" attrs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useAttrs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("​")])])]),s._v(" "),t("h2",{attrs:{id:"依赖注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入"}},[s._v("#")]),s._v(" 依赖注入")]),s._v(" "),t("h3",{attrs:{id:"父组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#父组件"}},[s._v("#")]),s._v(" 父组件")]),s._v(" "),t("p",[t("code",[s._v("provide(propName, value)")])]),s._v(" "),t("h3",{attrs:{id:"子组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子组件"}},[s._v("#")]),s._v(" 子组件")]),s._v(" "),t("p",[t("code",[s._v("const prop = inject(propName, default)")])]),s._v(" "),t("h3",{attrs:{id:"传输的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#传输的数据"}},[s._v("#")]),s._v(" 传输的数据")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("可操作")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// fath")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provide")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("propName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" chanegMethod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// son")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("value"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" changeMethod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("inject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("propName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("不可操作")]),s._v(" "),t("div",{staticClass:"language-javasc line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('provide("read-only-state", readonly(state));\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);